@model AspergillosisEPR.Models.CaseReportForms.ViewModels.CaseReportFormFieldResultViewModel;
<div class="row">
    <section class="col col-4 label-render">
        <label>@Model.Field.Label</label>
    </section>
    <section class="col col-12">
        <label class="select">
            <label class="select">
                <select disabled="disabled" multiple="multiple">
                @foreach (var option in Model.Field.Options.Select(o => o.DropdownItem()))
                {
                    if (Model.Result != null)
                    {
                        var isSelected = Model.Result.Options.Select(o => o.CaseReportFormOptionChoiceId.ToString()).Contains(option.Value);
                        option.Selected = isSelected;
                        if (option.Selected)
                        {
                            <option value="@option.Value" selected="selected">@option.Text</option>
                        }
                        else
                        {
                            <option value="@option.Value" >@option.Text</option>

                        }

                    }
                    else
                    {
                        <option></option>
                    }
                }
                </select>
                @Html.Hidden("Results.CaseReportFormFieldId", Model.Field.ID)
                @Html.Hidden("Results[" + Model.Index + "].ValidationResult", "")
            </label>
        </label>
    </section>
</div>
